(function(){"use strict";var t={7089:function(t,e,s){var a=s(2856),r=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app","data-cy":"app"}},[e("header",{staticClass:"app-header"},[e("h1",[t._v("Horse Racing")]),e("div",{staticClass:"control-buttons"},[e("button",{staticClass:"btn btn-primary",attrs:{"data-cy":"generate-program-btn",disabled:t.isRacing},on:{click:t.generateProgram}},[t._v(" GENERATE PROGRAM ")]),e("button",{staticClass:"btn btn-secondary",attrs:{"data-cy":"start-pause-btn",disabled:!t.hasProgram||t.allRacesCompleted},on:{click:t.toggleRace}},[t._v(" "+t._s(t.isRacing?"PAUSE":t.allRacesCompleted?"COMPLETED":"START")+" ")])])]),e("main",{staticClass:"app-main"},[e("div",{staticClass:"left-panel"},[e("HorseList",{attrs:{"data-cy":"horse-list"}})],1),e("div",{staticClass:"center-panel"},[e("RaceTrack",{attrs:{"data-cy":"race-track"}})],1),e("div",{staticClass:"right-panel"},[e("RaceResults",{attrs:{"data-cy":"race-results"}})],1)])])},n=[],i=s(1910),o=function(){var t=this,e=t._self._c;return e("div",{staticClass:"horse-list"},[t._m(0),e("div",{staticClass:"horse-table"},[t._m(1),e("div",{staticClass:"table-body"},t._l(t.horses,function(s){return e("div",{key:s.id,staticClass:"horse-row",class:{racing:t.isHorseRacing(s.id)}},[e("div",{staticClass:"col-name"},[t._v(t._s(s.name))]),e("div",{staticClass:"col-condition"},[t._v(t._s(s.condition))]),e("div",{staticClass:"col-color"},[e("div",{staticClass:"color-indicator",style:{backgroundColor:s.color}}),e("span",{staticClass:"color-name"},[t._v(t._s(t.getColorName(s.color)))])])])}),0)])])},c=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"horse-list-header"},[e("h3",[t._v("Horse List (1- 20)")])])},function(){var t=this,e=t._self._c;return e("div",{staticClass:"table-header"},[e("div",{staticClass:"col-name"},[t._v("Name")]),e("div",{staticClass:"col-condition"},[t._v("Condition")]),e("div",{staticClass:"col-color"},[t._v("Color")])])}],l=(s(8111),s(3579),{name:"HorseList",computed:{...(0,i.aH)(["horses","currentRacePositions"]),...(0,i.L8)(["currentRaceData"])},methods:{isHorseRacing(t){return!!this.currentRaceData&&this.currentRaceData.horses.some(e=>e.id===t)},getColorName(t){const e={"#FF6B6B":"Red","#4ECDC4":"Teal","#45B7D1":"Blue","#96CEB4":"Green","#FECA57":"Yellow","#FF9FF3":"Pink","#54A0FF":"Light Blue","#5F27CD":"Purple","#00D2D3":"Cyan","#FF9F43":"Orange","#10AC84":"Emerald","#EE5A24":"Red Orange","#0abde3":"Sky Blue","#feca57":"Gold","#ff6348":"Coral","#1dd1a1":"Mint","#ff3838":"Bright Red","#2f3542":"Dark Gray","#40407a":"Navy","#706fd3":"Lavender"};return e[t]||"Unknown"}},mounted(){this.$store.dispatch("initializeHorses")}}),u=l,d=s(1656),R=(0,d.A)(u,o,c,!1,null,"e2a7016a",null),m=R.exports,_=function(){var t=this,e=t._self._c;return e("div",{staticClass:"race-track"},[e("div",{staticClass:"race-track-header"},[t.currentRaceData?e("h3",[t._v(" "+t._s(t.currentRaceData.round)+t._s(t.getOrdinalSuffix(t.currentRaceData.round))+" Lap - "+t._s(t.currentRaceData.distance)+"m "),t.isRacing?e("span",[t._v("Racing in progress")]):e("span",[t._v("Paused")])]):e("h3",[t._v("Race Track")])]),e("div",{ref:"trackContainer",staticClass:"track-container"},[e("div",{staticClass:"track"},t._l(10,function(s){return e("div",{key:s,staticClass:"lane",class:{active:t.isLaneActive(s)}},[e("div",{staticClass:"lane-number"},[t._v(t._s(s))]),e("div",{staticClass:"lane-track"},[t.getHorseInLane(s)?e("div",{staticClass:"horse",style:t.getHorseStyle(s)},[e("div",{staticClass:"horse-icon",style:{backgroundColor:t.getHorseInLane(s).color}},[t._v(" 🐎 ")])]):t._e()]),e("div",{staticClass:"finish-line"},[t._v("FINISH")])])}),0)])])},h=[],g=(s(116),{name:"RaceTrack",computed:{...(0,i.aH)(["currentRacePositions","isRacing"]),...(0,i.L8)(["currentRaceData"])},methods:{isLaneActive(t){return!!this.currentRaceData?.horses&&this.currentRaceData.horses.some(e=>e.lane===t)},getHorseInLane(t){return this.currentRacePositions.length?this.currentRacePositions.find(e=>e.lane===t):this.currentRaceData?.horses.find(e=>e.lane===t)},getHorseStyle(t){const e=this.getHorseInLane(t);if(!e)return{};let s=0;if(this.currentRacePositions.length&&void 0!==e.position&&this.currentRaceData?.distance){const t=this.$refs.trackContainer?.offsetWidth||800,a=t-100;s=e.position/this.currentRaceData.distance*a}return{transform:`translateX(${s}px)`,transition:this.isRacing?"transform 0.1s linear":"none"}},getOrdinalSuffix(t){const e=t%10,s=t%100;return 1===e&&11!==s?"st":2===e&&12!==s?"nd":3===e&&13!==s?"rd":"th"}}}),v=g,C=(0,d.A)(v,_,h,!1,null,"a425544a",null),p=C.exports,f=function(){var t=this,e=t._self._c;return e("div",{staticClass:"race-results"},[e("div",{staticClass:"results-header"},[e("div",{staticClass:"header-section"},[e("h3",[t._v("Program")]),t.hasProgram?e("div",{staticClass:"summary"},[t._v(" "+t._s(t.raceProgram.length)+" races scheduled ")]):t._e()]),e("div",{staticClass:"header-section"},[e("h3",[t._v("Results")]),t.raceResults.length>0?e("div",{staticClass:"summary"},[t._v(" "+t._s(t.raceResults.length)+" of "+t._s(t.raceProgram.length)+" completed ")]):t._e()])]),e("div",{staticClass:"results-content"},[e("div",{staticClass:"program-section"},[t.hasProgram?e("div",{staticClass:"program-list"},t._l(t.raceProgram,function(s,a){return e("div",{key:a,staticClass:"program-item",class:{current:a===t.currentRound&&t.isRacing,completed:a<t.raceResults.length}},[e("div",{staticClass:"program-header"},[e("strong",[t._v(t._s(s.round)+t._s(t.getOrdinalSuffix(s.round))+" Lap - "+t._s(s.distance)+"m")])]),e("div",{staticClass:"program-horses"},t._l(s.horses,function(s,a){return e("div",{key:s.id,staticClass:"program-horse"},[e("span",{staticClass:"position"},[t._v(t._s(a+1))]),e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("span",{staticClass:"condition"},[t._v(t._s(s.condition))])])}),0)])}),0):e("div",{staticClass:"no-program"},[e("p",[t._v('Click "GENERATE PROGRAM" to create race schedule')])])]),e("div",{staticClass:"results-section"},[0===t.raceResults.length?e("div",{staticClass:"no-results"},[e("p",[t._v("Race results will appear here")])]):e("div",{staticClass:"results-list"},t._l(t.raceResults,function(s,a){return e("div",{key:a,staticClass:"result-item"},[e("div",{staticClass:"result-header"},[e("strong",[t._v(t._s(s.round)+t._s(t.getOrdinalSuffix(s.round))+" Lap - "+t._s(s.distance)+"m")]),e("span",{staticClass:"completion-time"},[t._v(t._s(s.completedAt))])]),e("div",{staticClass:"result-positions"},t._l(s.results,function(s,a){return e("div",{key:s.id,staticClass:"result-horse",class:{winner:0===a,podium:a<3}},[e("span",{staticClass:"position"},[t._v(t._s(a+1))]),e("span",{staticClass:"name"},[t._v(t._s(s.name))]),e("span",{staticClass:"time"},[t._v(t._s(s.raceTime)+"s")])])}),0)])}),0)])])])},E=[],T={name:"RaceResults",computed:{...(0,i.aH)(["raceProgram","raceResults","currentRound","isRacing","hasProgram"])},methods:{getOrdinalSuffix(t){const e=t%10,s=t%100;return 1===e&&11!==s?"st":2===e&&12!==s?"nd":3===e&&13!==s?"rd":"th"},getPrizeText(t){const e=["🥇 WIN","🥈 PLACE","🥉 SHOW"];return e[t]||""}}},A=T,S=(0,d.A)(A,f,E,!1,null,"dae13b18",null),P=S.exports,y={name:"App",components:{HorseList:m,RaceTrack:p,RaceResults:P},computed:{...(0,i.aH)(["isRacing","hasProgram"]),...(0,i.L8)(["allRacesCompleted"])},methods:{...(0,i.i0)(["generateProgram","toggleRace"])}},O=y,D=(0,d.A)(O,r,n,!1,null,null,null),I=D.exports;s(4114),s(1148),s(1701);const k=["Ada Lovelace","Grace Hopper","Margaret Hamilton","Joan Clarke","Lightning Bolt","Thunder Strike","Storm Chaser","Wind Runner","Fire Blaze","Star Dancer","Moon Walker","Sun Rider","Ocean Wave","Mountain Peak","Desert Wind","Forest Spirit","Golden Arrow","Silver Bullet","Bronze Medal","Diamond Dust"],b=["#FF6B6B","#4ECDC4","#45B7D1","#96CEB4","#FECA57","#FF9FF3","#54A0FF","#5F27CD","#00D2D3","#FF9F43","#10AC84","#EE5A24","#0abde3","#c44569","#ff6348","#1dd1a1","#ff3838","#2f3542","#40407a","#706fd3"];function N(t=20){const e=[];for(let s=0;s<t;s++)e.push({id:s+1,name:k[s],condition:Math.floor(100*Math.random())+1,color:b[s],totalRaces:0,wins:0,winRate:0});return e}s(7588);function F(t,e){const s=t.map(t=>{const s=e/15,a=t.condition/100*.3,r=.4*Math.random()+.8,n=s*(1-a)*r;return{...t,raceTime:parseFloat(n.toFixed(2)),finishPosition:0}});return s.sort((t,e)=>t.raceTime-e.raceTime),s.forEach((t,e)=>{t.finishPosition=e+1}),{results:s,distance:e,winner:s[0]}}a.Ay.use(i.Ay);var M=new i.Ay.Store({state:{horses:[],raceProgram:[],raceResults:[],currentRound:0,isRacing:!1,hasProgram:!1,currentRacePositions:[],raceDistances:[1200,1400,1600,1800,2e3,2200],raceInProgress:!1,currentAnimationTimer:null},mutations:{SET_HORSES(t,e){t.horses=e},SET_RACE_PROGRAM(t,e){t.raceProgram=e,t.hasProgram=!0},SET_RACING_STATE(t,e){t.isRacing=e},SET_CURRENT_ROUND(t,e){t.currentRound=e},ADD_RACE_RESULT(t,e){t.raceResults.push(e)},SET_CURRENT_RACE_POSITIONS(t,e){t.currentRacePositions=e},SET_RACE_IN_PROGRESS(t,e){t.raceInProgress=e},SET_ANIMATION_TIMER(t,e){t.currentAnimationTimer=e},RESET_RACE(t){t.currentAnimationTimer&&clearInterval(t.currentAnimationTimer),t.raceProgram=[],t.raceResults=[],t.currentRound=0,t.isRacing=!1,t.hasProgram=!1,t.currentRacePositions=[],t.raceInProgress=!1,t.currentAnimationTimer=null}},actions:{generateProgram({commit:t,state:e}){const s=N(20);t("SET_HORSES",s);const a=[],r=e.raceDistances;for(let n=0;n<6;n++){const t=[...s].sort(()=>Math.random()-.5),e=t.slice(0,10);a.push({round:n+1,distance:r[n],horses:e})}t("RESET_RACE"),t("SET_RACE_PROGRAM",a)},async toggleRace({commit:t,state:e,dispatch:s,getters:a}){!e.isRacing&&a.allRacesCompleted||(e.isRacing?t("SET_RACING_STATE",!1):(t("SET_RACING_STATE",!0),e.raceInProgress||await s("runRaces")))},async runRaces({commit:t,state:e,dispatch:s}){t("SET_RACE_IN_PROGRESS",!0);try{for(let a=e.currentRound;a<e.raceProgram.length;a++){if(!e.isRacing)break;t("SET_CURRENT_ROUND",a);const r=e.raceProgram[a],n=await s("simulateRaceWithAnimation",r);t("ADD_RACE_RESULT",n),a<e.raceProgram.length-1&&await new Promise(t=>setTimeout(t,1500))}}finally{t("SET_RACE_IN_PROGRESS",!1),t("SET_RACING_STATE",!1),e.raceResults.length>=e.raceProgram.length&&t("SET_CURRENT_ROUND",e.raceProgram.length)}},async simulateRaceWithAnimation({commit:t,state:e},s){const{horses:a,distance:r,round:n}=s;return new Promise(s=>{const i=F(a,r),o=5e3,c=100,l=o/c,u=a.map((t,e)=>{const s=i.results.findIndex(e=>e.id===t.id)+1,a=r/o*c,n=.8+.4*Math.random(),l=a*n;return{...t,position:0,speed:l,finalPosition:s,lane:e+1}});let d=0;const R=setInterval(()=>{if(!e.isRacing)return;d++;const a=d/l,o=u.map(t=>{let e=t.position+t.speed;const s=.95+.1*Math.random();if(t.speed=t.speed*s,a<.9&&(e=Math.min(e,r*(a+.1))),a>.8){const s=1/t.finalPosition*.1;e+=r*s}return t.position=Math.max(t.position,Math.min(r,e)),{...t,position:t.position}});t("SET_CURRENT_RACE_POSITIONS",o);const c=o.every(t=>t.position>=r);if(c||d>=l){if(!c){const e=o.map(t=>({...t,position:r}));t("SET_CURRENT_RACE_POSITIONS",e)}setTimeout(()=>{clearInterval(R),t("SET_ANIMATION_TIMER",null),t("SET_CURRENT_RACE_POSITIONS",[]),s({round:n,distance:r,results:i.results,completedAt:(new Date).toLocaleTimeString()})},1e3)}},c);t("SET_ANIMATION_TIMER",R)})}},getters:{currentRaceData:t=>t.raceProgram[t.currentRound]||null,allRacesCompleted:t=>t.raceProgram.length>0&&t.raceResults.length>=t.raceProgram.length}});a.Ay.config.productionTip=!1,new a.Ay({store:M,render:t=>t(I)}).$mount("#app")}},e={};function s(a){var r=e[a];if(void 0!==r)return r.exports;var n=e[a]={exports:{}};return t[a].call(n.exports,n,n.exports,s),n.exports}s.m=t,function(){var t=[];s.O=function(e,a,r,n){if(!a){var i=1/0;for(u=0;u<t.length;u++){a=t[u][0],r=t[u][1],n=t[u][2];for(var o=!0,c=0;c<a.length;c++)(!1&n||i>=n)&&Object.keys(s.O).every(function(t){return s.O[t](a[c])})?a.splice(c--,1):(o=!1,n<i&&(i=n));if(o){t.splice(u--,1);var l=r();void 0!==l&&(e=l)}}return e}n=n||0;for(var u=t.length;u>0&&t[u-1][2]>n;u--)t[u]=t[u-1];t[u]=[a,r,n]}}(),function(){s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,{a:e}),e}}(),function(){s.d=function(t,e){for(var a in e)s.o(e,a)&&!s.o(t,a)&&Object.defineProperty(t,a,{enumerable:!0,get:e[a]})}}(),function(){s.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};s.O.j=function(e){return 0===t[e]};var e=function(e,a){var r,n,i=a[0],o=a[1],c=a[2],l=0;if(i.some(function(e){return 0!==t[e]})){for(r in o)s.o(o,r)&&(s.m[r]=o[r]);if(c)var u=c(s)}for(e&&e(a);l<i.length;l++)n=i[l],s.o(t,n)&&t[n]&&t[n][0](),t[n]=0;return s.O(u)},a=self["webpackChunkhorse_racing_game"]=self["webpackChunkhorse_racing_game"]||[];a.forEach(e.bind(null,0)),a.push=e.bind(null,a.push.bind(a))}();var a=s.O(void 0,[504],function(){return s(7089)});a=s.O(a)})();
//# sourceMappingURL=app.c2469115.js.map